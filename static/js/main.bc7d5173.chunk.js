(this["webpackJsonpubi-map"]=this["webpackJsonpubi-map"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"version":8,"name":"Frank-pared-copy","metadata":{"mapbox:type":"default","mapbox:origin":"basic-v1","mapbox:autocomposite":true,"mapbox:groups":{"Transit, transit-labels":{"name":"Transit, transit-labels","collapsed":false},"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":true},"Land & water, built":{"name":"Land & water, built","collapsed":false},"Road network, bridges":{"name":"Road network, bridges","collapsed":false},"Road network, tunnels":{"name":"Road network, tunnels","collapsed":false},"Road network, road-labels":{"name":"Road network, road-labels","collapsed":false},"Buildings, built":{"name":"Buildings, built","collapsed":false},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":false},"Road network, surface":{"name":"Road network, surface","collapsed":false},"Place labels, place-labels":{"name":"Place labels, place-labels","collapsed":false},"Buildings, extruded":{"name":"Buildings, extruded","collapsed":false},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":false},"Walking, cycling, etc., bridges":{"name":"Walking, cycling, etc., bridges","collapsed":false},"Walking, cycling, etc., tunnels":{"name":"Walking, cycling, etc., tunnels","collapsed":false},"Walking, cycling, etc., walking-cycling-labels":{"name":"Walking, cycling, etc., walking-cycling-labels","collapsed":false},"Road network, bridges-case":{"name":"Road network, bridges-case","collapsed":false},"Walking, cycling, etc., surface":{"name":"Walking, cycling, etc., surface","collapsed":false},"Transit, built":{"name":"Transit, built","collapsed":false},"Land & water, land-and-water":{"name":"Land & water, land-and-water","collapsed":false}},"mapbox:sdk-support":{"js":"1.6.0","android":"8.6.0","ios":"5.6.0"},"mapbox:uiParadigm":"components","mapbox:trackposition":false,"mapbox:decompiler":{"id":"ck8qaf79a01bs1ionh6t7899f","componentVersion":"0.4.0","strata":[{"id":"basic-v1","order":[["land-and-water","land-and-water"],"water-pattern",["land-and-water","built"],["transit","built"],["buildings","built"],["road-network","tunnels-case"],["walking-cycling","tunnels"],["road-network","tunnels"],["transit","ferries"],["road-network","surface-case"],["walking-cycling","surface"],["road-network","surface"],["transit","surface"],["road-network","surface-icons"],["road-network","bridges-case"],["walking-cycling","bridges"],["road-network","bridges"],["transit","bridges"],["road-network","bridges-2"],["road-network","traffic-and-closures"],["walking-cycling","barriers"],["buildings","extruded"],["transit","elevated"],["admin-boundaries","admin"],["buildings","building-labels"],["road-network","road-labels"],["transit","ferry-aerialway-labels"],["walking-cycling","walking-cycling-labels"],["natural-features","natural-labels"],["point-of-interest-labels","poi-labels"],["transit","transit-labels"],["place-labels","place-labels"]]}],"overrides":{"buildings":{"building":{"paint":{"fill-color":"#e3d6c4"},"layout":{"visibility":"none"}},"building-outline":{"layout":{"visibility":"none"}},"building-extrusion":{"paint":{"fill-extrusion-color":"hsl(35, 46%, 69%)"},"layout":{"visibility":"none"}},"building-number-label":{"layout":{"visibility":"none"}}},"land-and-water":{"landuse":{"paint":{"fill-color":["match",["get","class"],["park"],"hsl(65, 28%, 87%)",["cemetery"],"hsl(64, 23%, 84%)",["school"],"hsl(33, 51%, 94%)",["hospital"],"#f9ebef",["airport"],"hsl(0, 3%, 88%)",["glacier"],"#f3eff5",["sand"],"#eee3c3",["pitch"],"#e2e3ce","hsla(0, 0%, 100%, 0)"]}},"national-park":{"paint":{"fill-color":"hsl(63, 27%, 83%)"}},"land":{"paint":{"background-color":"#f5f4ef"}},"land-structure-polygon":{"paint":{"fill-color":"#f5f4ef"}}},"place-labels":{"settlement-subdivision-label":{"paint":{"text-color":"#674b3c"},"layout":{"visibility":"none"}},"settlement-minor-label":{"layout":{"visibility":"none"}},"settlement-major-label":{"layout":{"visibility":"none"}},"state-label":{"layout":{"visibility":"none"}},"country-label":{"layout":{"visibility":"none"}}},"transit":{"ferry-auto":{"layout":{"visibility":"none"}},"aerialway-bg":{"layout":{"visibility":"none"}},"aerialway":{"layout":{"visibility":"none"}},"airport-label":{"layout":{"visibility":"none"}},"aeroway-line":{"paint":{"line-color":"#cecaca"},"layout":{"visibility":"none"}},"bridge-rail":{"layout":{"visibility":"none"}},"road-rail-tracks":{"layout":{"visibility":"none"}},"ferry":{"layout":{"visibility":"none"}},"transit-label":{"layout":{"visibility":"none"}},"aeroway-polygon":{"paint":{"fill-color":"#cecaca"},"layout":{"visibility":"none"}},"ferry-aerialway-label":{"layout":{"visibility":"none"}},"road-rail":{"layout":{"visibility":"none"}},"bridge-rail-tracks":{"layout":{"visibility":"none"}}},"walking-cycling":{"road-path-bg":{"layout":{"visibility":"none"}},"tunnel-pedestrian":{"layout":{"visibility":"none"}},"tunnel-steps":{"layout":{"visibility":"none"}},"bridge-path-trail":{"layout":{"visibility":"none"}},"road-path-cycleway-piste":{"layout":{"visibility":"none"}},"tunnel-path-trail":{"layout":{"visibility":"none"}},"bridge-steps":{"layout":{"visibility":"none"}},"gate-fence-hedge":{"layout":{"visibility":"none"}},"road-pedestrian":{"layout":{"visibility":"none"}},"bridge-path-bg":{"layout":{"visibility":"none"}},"bridge-path":{"layout":{"visibility":"none"}},"tunnel-path-cycleway-piste":{"layout":{"visibility":"none"}},"tunnel-path":{"layout":{"visibility":"none"}},"path-pedestrian-label":{"layout":{"visibility":"none"}},"bridge-path-cycleway-piste":{"layout":{"visibility":"none"}},"road-path-trail":{"layout":{"visibility":"none"}},"bridge-steps-bg":{"layout":{"visibility":"none"}},"golf-hole-label":{"layout":{"visibility":"none"}},"road-path":{"layout":{"visibility":"none"}},"road-pedestrian-case":{"layout":{"visibility":"none"}},"golf-hole-line":{"layout":{"visibility":"none"}},"road-steps-bg":{"layout":{"visibility":"none"}},"road-pedestrian-polygon-pattern":{"layout":{"visibility":"none"}},"road-steps":{"layout":{"visibility":"none"}},"road-pedestrian-polygon-fill":{"layout":{"visibility":"none"}},"bridge-pedestrian-case":{"layout":{"visibility":"none"}},"bridge-pedestrian":{"layout":{"visibility":"none"}}},"point-of-interest-labels":{"poi-label":{"layout":{"visibility":"none"}}},"natural-features":{"waterway-label":{"layout":{"visibility":"none"}},"natural-line-label":{"layout":{"visibility":"none"}},"natural-point-label":{"layout":{"visibility":"none"}},"water-line-label":{"layout":{"visibility":"none"}},"water-point-label":{"layout":{"visibility":"none"}}},"road-network":{"road-number-shield":{"layout":{"visibility":"none"}},"tunnel-primary-case-navigation":{"layout":{"visibility":"none"}},"traffic-tunnel-minor-navigation":{"layout":{"visibility":"none"}},"road-number-shield-navigation":{"layout":{"visibility":"none"}},"traffic-tunnel-secondary-tertiary-navigation":{"layout":{"visibility":"none"}},"bridge-primary-case-navigation":{"layout":{"visibility":"none"}},"road-major-link-case":{"layout":{"visibility":"none"}},"tunnel-primary-secondary-tertiary-case":{"layout":{"visibility":"none"}},"road-construction-navigation":{"layout":{"visibility":"none"}},"turning-feature-outline":{"layout":{"visibility":"none"}},"bridge-primary-secondary-tertiary-case":{"layout":{"visibility":"none"}},"traffic-road-oneway-arrow-white-navigation":{"layout":{"visibility":"none"}},"bridge-oneway-arrow-blue-navigation":{"layout":{"visibility":"none"}},"bridge-primary-navigation":{"layout":{"visibility":"none"}},"tunnel-primary-navigation":{"layout":{"visibility":"none"}},"tunnel-oneway-arrow-blue-navigation":{"layout":{"visibility":"none"}},"traffic-bridge-road-minor-navigation":{"layout":{"visibility":"none"}},"bridge-oneway-arrow-white":{"layout":{"visibility":"none"}},"bridge-motorway-trunk":{"layout":{"visibility":"none"}},"road-secondary-tertiary-case":{"layout":{"visibility":"none"}},"traffic-bridge-road-street-navigation":{"layout":{"visibility":"none"}},"tunnel-motorway-trunk":{"layout":{"visibility":"none"}},"traffic-level-crossing-navigation":{"layout":{"visibility":"none"}},"bridge-major-link-2-case":{"layout":{"visibility":"none"}},"tunnel-oneway-arrow-white":{"layout":{"visibility":"none"}},"road-major-link-navigation":{"layout":{"visibility":"none"}},"traffic-bridge-road-motorway-trunk-navigation":{"layout":{"visibility":"none"}},"road-label":{"layout":{"visibility":"none"}},"road-primary-case":{"layout":{"visibility":"none"}},"road-minor":{"layout":{"visibility":"none"}},"traffic-tunnel-street-navigation":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-case-navigation":{"layout":{"visibility":"none"}},"traffic-signal-navigation":{"layout":{"visibility":"none"}},"road-secondary-tertiary-navigation":{"layout":{"visibility":"none"}},"bridge-major-link-2-navigation":{"layout":{"visibility":"none"}},"tunnel-motorway-trunk-case-navigation":{"layout":{"visibility":"none"}},"road-street-low-navigation":{"layout":{"visibility":"none"}},"tunnel-major-link-case":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-2":{"layout":{"visibility":"none"}},"road-motorway-trunk-case-low-navigation":{"layout":{"visibility":"none"}},"bridge-street-case-navigation":{"layout":{"visibility":"none"}},"traffic-tunnel-oneway-arrow-white-navigation":{"layout":{"visibility":"none"}},"tunnel-construction-navigation":{"layout":{"visibility":"none"}},"bridge-case-simple":{"layout":{"visibility":"none"}},"traffic-tunnel-motorway-trunk-navigation":{"layout":{"visibility":"none"}},"level-crossing":{"layout":{"visibility":"none"}},"bridge-major-link-case":{"layout":{"visibility":"none"}},"road-exit-shield":{"layout":{"visibility":"none"}},"traffic-bridge-oneway-arrow-white-navigation":{"layout":{"visibility":"none"}},"tunnel-street-case-navigation":{"layout":{"visibility":"none"}},"bridge-construction-navigation":{"layout":{"visibility":"none"}},"road-primary-navigation":{"layout":{"visibility":"none"}},"road-oneway-arrow-blue-navigation":{"layout":{"visibility":"none"}},"road-minor-case-navigation":{"layout":{"visibility":"none"}},"tunnel-street-minor-case":{"layout":{"visibility":"none"}},"road-polygon":{"layout":{"visibility":"none"}},"road-street-case":{"layout":{"visibility":"none"}},"road-oneway-arrow-white":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-2-case-navigation":{"layout":{"visibility":"none"}},"traffic-bridge-road-link-navigation":{"layout":{"visibility":"none"}},"bridge-street-minor-case":{"layout":{"visibility":"none"}},"tunnel-major-link-navigation":{"layout":{"visibility":"none"}},"road-motorway-trunk":{"layout":{"visibility":"none"}},"turning-feature":{"layout":{"visibility":"none"}},"bridge-street-minor":{"layout":{"visibility":"none"}},"bridge-major-link-navigation":{"layout":{"visibility":"none"}},"road-minor-low":{"layout":{"visibility":"none"}},"road-motorway-trunk-case":{"layout":{"visibility":"none"}},"incident-closure-lines-navigation":{"layout":{"visibility":"none"}},"bridge-minor-navigation":{"layout":{"visibility":"none"}},"tunnel-street-minor":{"layout":{"visibility":"none"}},"road-street":{"layout":{"visibility":"none"}},"road-street-navigation":{"layout":{"visibility":"none"}},"tunnel-secondary-tertiary-navigation":{"layout":{"visibility":"none"}},"tunnel-minor-navigation":{"layout":{"visibility":"none"}},"traffic-tunnel-link-navigation":{"layout":{"visibility":"none"}},"bridge-major-link":{"layout":{"visibility":"none"}},"bridge-secondary-tertiary-navigation":{"layout":{"visibility":"none"}},"tunnel-street-low-navigation":{"layout":{"visibility":"none"}},"road-motorway-trunk-case-navigation":{"layout":{"visibility":"none"}},"bridge-secondary-tertiary-case-navigation":{"layout":{"visibility":"none"}},"road-oneway-arrow-white-navigation":{"layout":{"visibility":"none"}},"turning-feature-navigation":{"layout":{"visibility":"none"}},"bridge-street-low-navigation":{"layout":{"visibility":"none"}},"tunnel-major-link":{"layout":{"visibility":"none"}},"road-motorway-trunk-navigation":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-2-case":{"layout":{"visibility":"none"}},"traffic-bridge-oneway-arrow-blue-navigation":{"layout":{"visibility":"none"}},"road-street-case-navigation":{"layout":{"visibility":"none"}},"traffic-tunnel-primary-navigation":{"layout":{"visibility":"none"}},"tunnel-minor-case-navigation":{"layout":{"visibility":"none"}},"tunnel-secondary-tertiary-case-navigation":{"layout":{"visibility":"none"}},"traffic-tunnel-oneway-arrow-blue-navigation":{"layout":{"visibility":"none"}},"road-primary":{"layout":{"visibility":"none"}},"bridge-construction":{"layout":{"visibility":"none"}},"road-minor-case":{"layout":{"visibility":"none"}},"bridge-minor-case-navigation":{"layout":{"visibility":"none"}},"road-oneway-arrow-blue":{"layout":{"visibility":"none"}},"bridge-simple":{"layout":{"visibility":"none"}},"level-crossing-navigation":{"layout":{"visibility":"none"}},"road-exit-shield-navigation":{"layout":{"visibility":"none"}},"bridge-major-link-case-navigation":{"layout":{"visibility":"none"}},"bridge-street-minor-low":{"layout":{"visibility":"none"}},"tunnel-construction":{"layout":{"visibility":"none"}},"incident-closure-line-highlights-navigation":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-2-navigation":{"layout":{"visibility":"none"}},"tunnel-motorway-trunk-case":{"layout":{"visibility":"none"}},"incident-startpoints-navigation":{"layout":{"visibility":"none"}},"tunnel-major-link-case-navigation":{"layout":{"visibility":"none"}},"bridge-major-link-2":{"layout":{"visibility":"none"}},"tunnel-street-minor-low":{"layout":{"visibility":"none"}},"tunnel-simple":{"layout":{"visibility":"none"}},"road-street-low":{"layout":{"visibility":"none"}},"road-label-simple":{"layout":{"visibility":"none"}},"road-secondary-tertiary":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-case":{"layout":{"visibility":"none"}},"traffic-bridge-road-primary-navigation":{"layout":{"visibility":"none"}},"road-minor-navigation":{"layout":{"visibility":"none"}},"road-primary-case-navigation":{"layout":{"visibility":"none"}},"tunnel-street-navigation":{"layout":{"visibility":"none"}},"bridge-street-navigation":{"layout":{"visibility":"none"}},"road-label-navigation":{"layout":{"visibility":"none"}},"bridge-primary-secondary-tertiary":{"layout":{"visibility":"none"}},"traffic-bridge-road-major-link-navigation":{"layout":{"visibility":"none"}},"road-major-link":{"layout":{"visibility":"none"}},"tunnel-oneway-arrow-white-navigation":{"layout":{"visibility":"none"}},"bridge-major-link-2-case-navigation":{"layout":{"visibility":"none"}},"tunnel-motorway-trunk-navigation":{"layout":{"visibility":"none"}},"tunnel-primary-secondary-tertiary":{"layout":{"visibility":"none"}},"road-secondary-tertiary-case-navigation":{"layout":{"visibility":"none"}},"bridge-motorway-trunk-navigation":{"layout":{"visibility":"none"}},"traffic-road-oneway-arrow-blue-navigation":{"layout":{"visibility":"none"}},"bridge-oneway-arrow-white-navigation":{"layout":{"visibility":"none"}},"road-label-outdoors":{"layout":{"visibility":"none"}},"tunnel-oneway-arrow-blue":{"layout":{"visibility":"none"}},"traffic-bridge-road-secondary-tertiary-navigation":{"layout":{"visibility":"none"}},"turning-feature-outline-navigation":{"layout":{"visibility":"none"}},"traffic-bridge-road-motorway-trunk-case-navigation":{"layout":{"visibility":"none"}},"road-construction":{"layout":{"visibility":"none"}},"incident-endpoints-navigation":{"layout":{"visibility":"none"}},"bridge-oneway-arrow-blue":{"layout":{"visibility":"none"}},"traffic-tunnel-major-link-navigation":{"layout":{"visibility":"none"}},"road-simple":{"layout":{"visibility":"none"}},"road-major-link-case-navigation":{"layout":{"visibility":"none"}}}},"components":{"road-network":"0.4.0","natural-features":"0.4.0","place-labels":"0.4.0","admin-boundaries":"0.4.0","point-of-interest-labels":"0.4.0","walking-cycling":"0.4.0","transit":"0.4.0","land-and-water":"0.4.0","buildings":"0.4.0"},"propConfig":{"road-network":{"color-base":"#ffffff","color-road":"hsl(40, 38%, 84%)","roadNetwork":"Simple","color-road-label":"hsl(0, 0%, 38%)","roadsFont":["Source Sans Pro Regular","Arial Unicode MS Regular"],"shieldsFont":["Source Sans Pro SemiBold","Arial Unicode MS Bold"],"roadWidth":0.5},"natural-features":{"color-base":"#ffffff","color-water":"#c1ccd7","color-poi":"hsl(26, 18%, 42%)","waterLabelsFont":["Source Sans Pro Italic","Arial Unicode MS Regular"]},"place-labels":{"states":false,"color-place-label":"hsl(53, 17%, 52%)","settlementLabelStyle":"Text only","settlements":false,"settlementSubdivisions":false,"statesFont":["Source Sans Pro SemiBold","Arial Unicode MS Bold"],"countriesSettlementsMajorFont":["Source Sans Pro SemiBold","Arial Unicode MS Regular"],"countryLabelStyle":"Text only","settlementSubdivisionsDensity":3,"settlementsMinorFont":["Source Sans Pro Regular","Arial Unicode MS Regular"],"color-base":"#ffffff","settlementSubdivisionsFont":["Source Code Pro Regular","Arial Unicode MS Regular"]},"admin-boundaries":{"color-base":"#ffffff","color-place-label":"hsl(53, 17%, 52%)","admin0Width":1},"point-of-interest-labels":{"color-base":"#ffffff","color-greenspace":"hsl(65, 62%, 46%)","color-hospital":"hsl(3, 45%, 55%)","color-school":"hsl(40, 45%, 45%)","color-poi":"hsl(26, 18%, 42%)","density":2},"walking-cycling":{"color-base":"#ffffff","color-road":"hsl(40, 38%, 84%)","color-greenspace":"hsl(65, 62%, 46%)","walkingCyclingPisteBackground":false,"golfHoleLabelLine":false,"pedestrianPolygonFeatures":false,"color-road-label":"hsl(0, 0%, 38%)","roadsFont":["Source Sans Pro Regular","Arial Unicode MS Regular"]},"transit":{"color-airport":"hsl(225, 4%, 40%)","matchLabelAndIcon":true,"roadsFont":["Source Sans Pro Regular","Arial Unicode MS Regular"],"color-transit":"hsla(230, 55%, 42%, 0.65)","aerialways":false,"color-road":"hsl(40, 38%, 84%)","color-water":"#c1ccd7","color-road-label":"hsl(0, 0%, 38%)","transitLabels":true,"railways":false,"ferries":false,"color-base":"#ffffff"},"land-and-water":{"color-airport":"hsl(225, 4%, 40%)","color-hospital":"hsl(3, 45%, 55%)","landcover":false,"color-greenspace":"hsl(65, 62%, 46%)","color-water":"#c1ccd7","transitionLandOnZoom":false,"waterStyle":"Simple","color-base":"#ffffff","landuse":false,"color-school":"hsl(40, 45%, 45%)"},"buildings":{"color-base":"#ffffff","houseNumbers":false,"3D":true,"houseNumbersFont":["Source Sans Pro Light Italic","Arial Unicode MS Regular"]}}}},"sources":{"composite":{"url":"mapbox://mapbox.mapbox-streets-v8","type":"vector"},"experiments":{"type":"geojson","data":{"type":"FeatureCollection","features":[]}}},"sprite":"https://tiles.evictionlab.org/sprites","glyphs":"mapbox://fonts/alphalpha/{fontstack}/{range}.pbf","layers":[{"id":"land","type":"background","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land-and-water"},"layout":{},"paint":{"background-color":"#f5f4ef"}},{"id":"waterway","type":"line","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land-and-water"},"source":"composite","source-layer":"waterway","minzoom":8,"layout":{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},"paint":{"line-color":"#c1ccd7","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],0.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{"id":"water","type":"fill","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land-and-water"},"source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":"#c1ccd7"}},{"id":"water-pattern","type":"fill","source":"composite","source-layer":"water","layout":{},"paint":{"fill-color":"hsl(210, 22%, 80%)","fill-pattern":"bank2-01","fill-opacity":0.5}},{"id":"land-structure-polygon","type":"fill","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, built"},"source":"composite","source-layer":"structure","minzoom":13,"filter":["all",["==",["geometry-type"],"Polygon"],["==",["get","class"],"land"]],"layout":{},"paint":{"fill-color":"#f5f4ef"}},{"id":"land-structure-line","type":"line","metadata":{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, built"},"source":"composite","source-layer":"structure","minzoom":13,"filter":["all",["==",["geometry-type"],"LineString"],["==",["get","class"],"land"]],"layout":{"line-cap":"round"},"paint":{"line-width":["interpolate",["exponential",1.99],["zoom"],14,0.75,20,40],"line-color":"rgb(252, 252, 252)"}},{"id":"aeroway-polygon","type":"fill","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},"source":"composite","source-layer":"aeroway","minzoom":11,"filter":["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["runway","taxiway","helipad"],true,false]],"layout":{"visibility":"none"},"paint":{"fill-color":"#cecaca","fill-opacity":["interpolate",["linear"],["zoom"],11,0,11.5,1]}},{"id":"aeroway-line","type":"line","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},"source":"composite","source-layer":"aeroway","minzoom":9,"filter":["==",["geometry-type"],"LineString"],"layout":{"visibility":"none"},"paint":{"line-color":"#cecaca","line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,0.5],18,["match",["get","type"],"runway",80,20]]}},{"id":"tunnel-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["!=",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],"layout":{"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"rgb(227, 227, 227)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[1,0.5]]]}},{"id":"tunnel-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"steps"],["==",["geometry-type"],"LineString"]],"layout":{"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"rgb(227, 227, 227)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"tunnel-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"layout":{"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"rgb(227, 227, 227)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"tunnel-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],2,["secondary","tertiary"],1.25,0.5],18,["match",["get","class"],["motorway","trunk","primary"],16,["secondary","tertiary"],13,["motorway_link","trunk_link","street","street_limited","primary_link"],9,6]],"line-color":"hsl(40, 38%, 77%)"}},{"id":"road-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["get","class"],"path"],["step",["zoom"],["!",["match",["get","type"],["steps","sidewalk","crossing"],true,false]],16,["!=",["get","type"],"steps"]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"],"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,0.5,14,1,15,1,18,4],"line-color":"rgb(255, 255, 255)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[1,0.5]]]}},{"id":"road-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","type"],"steps"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round","visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"rgb(255, 255, 255)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"road-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},"source":"composite","source-layer":"road","minzoom":12,"filter":["all",["==",["get","class"],"pedestrian"],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"],"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"rgb(255, 255, 255)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"road-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},"source":"composite","source-layer":"road","minzoom":5,"filter":["all",["step",["zoom"],["match",["get","class"],["motorway","trunk"],true,false],6,["match",["get","class"],["motorway","trunk","primary"],true,false],8,["match",["get","class"],["motorway","trunk","primary","secondary"],true,false],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","motorway_link","trunk_link"],true,false],11,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street"],true,false],12,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link"],true,false],13,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["match",["get","structure"],["none","ford"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"],"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],0.375,["secondary","tertiary"],0.05,0],13,["match",["get","class"],["motorway","trunk","primary"],2,["secondary","tertiary"],1.25,["motorway_link","trunk_link","primary_link","street","street_limited"],0.5,0.25],18,["match",["get","class"],["motorway","trunk","primary"],16,["secondary","tertiary"],13,["motorway_link","trunk_link","primary_link","street","street_limited"],9,5]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(40, 38%, 79%)","hsl(40, 38%, 84%)"]}},{"id":"bridge-case-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges-case"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-join":["step",["zoom"],"miter",14,"round"],"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],3,["secondary","tertiary"],2,["motorway_link","trunk_link","street","street_limited","primary_link"],1.25,0.625],18,["match",["get","class"],["motorway","trunk","primary"],18,["secondary","tertiary"],15,["motorway_link","trunk_link","street","street_limited","primary_link"],11,8]],"line-color":"rgb(252, 252, 252)"}},{"id":"bridge-path","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., bridges"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["==",["geometry-type"],"LineString"],["!=",["get","type"],"steps"]],"layout":{"line-join":"round","visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"rgb(255, 255, 255)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[1,0.5]]]}},{"id":"bridge-steps","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., bridges"},"source":"composite","source-layer":"road","minzoom":14,"filter":["all",["==",["get","type"],"steps"],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round","visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"rgb(255, 255, 255)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,0.75]],17,["literal",[0.3,0.3]]]}},{"id":"bridge-pedestrian","type":"line","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],"layout":{"line-join":"round","visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],14,0.5,18,12],"line-color":"rgb(255, 255, 255)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,0.4]],16,["literal",[1,0.2]]]}},{"id":"bridge-simple","type":"line","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},"source":"composite","source-layer":"road","minzoom":13,"filter":["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["motorway","trunk"],true,false],13,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],true,false],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"],"visibility":"none"},"paint":{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],2,["secondary","tertiary"],1.25,0.5],18,["match",["get","class"],["motorway","trunk","primary"],16,["secondary","tertiary"],13,["motorway_link","trunk_link","street","street_limited","primary_link"],9,6]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(40, 38%, 79%)","hsl(40, 38%, 84%)"]}},{"id":"building-extrusion","type":"fill-extrusion","metadata":{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, extruded"},"source":"composite","source-layer":"building","minzoom":15,"filter":["all",["==",["get","underground"],"false"],["!=",["get","extrude"],"false"]],"layout":{"visibility":"none"},"paint":{"fill-extrusion-color":"hsl(35, 46%, 69%)","fill-extrusion-height":["get","height"],"fill-extrusion-opacity":0.3}},{"id":"admin-1-boundary-bg","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","filter":["all",["==",["get","iso_3166_1"],"US"],["==",["get","admin_level"],1],["==",["get","maritime"],"false"]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"rgb(252, 252, 252)",16,"hsl(53, 29%, 99%)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{"id":"admin-0-boundary-bg","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{},"paint":{"line-width":["interpolate",["linear"],["zoom"],3.5,3.5,10,8],"line-color":["interpolate",["linear"],["zoom"],6,"rgb(252, 252, 252)",8,"hsl(53, 29%, 99%)"],"line-opacity":["interpolate",["linear"],["zoom"],3.5,0,4,0.5],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{"id":"admin-1-boundary","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","filter":["all",["==",["get","iso_3166_1"],"US"],["==",["get","admin_level"],1],["==",["get","maritime"],"false"]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,0.75,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],3.5,0,4,1],"line-color":["interpolate",["linear"],["zoom"],3,"hsl(53, 9%, 77%)",7,"hsl(53, 5%, 62%)"]}},{"id":"admin-0-boundary","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":3,"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-color":"hsl(53, 5%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-opacity":["interpolate",["linear"],["zoom"],3,0,3.5,1],"line-dasharray":[10,0]}},{"id":"admin-0-boundary-disputed","type":"line","metadata":{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},"source":"composite","source-layer":"admin","minzoom":3,"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round"},"paint":{"line-color":"hsl(53, 5%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{"id":"road-label-simple","type":"symbol","metadata":{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},"source":"composite","source-layer":"road","minzoom":12,"filter":["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],true,false],"layout":{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,9],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],16,14]],"text-max-angle":30,"text-font":["Source Sans Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"visibility":"none","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"paint":{"text-color":"hsl(0, 0%, 38%)","text-halo-color":"hsl(40, 38%, 84%)","text-halo-width":1}},{"id":"path-pedestrian-label","type":"symbol","metadata":{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., walking-cycling-labels"},"source":"composite","source-layer":"road","minzoom":12,"filter":["step",["zoom"],["match",["get","class"],["pedestrian"],true,false],15,["match",["get","class"],["path","pedestrian"],true,false]],"layout":{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],"pedestrian",9,6.5],18,["match",["get","class"],"pedestrian",14,13]],"text-max-angle":30,"text-font":["Source Sans Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"visibility":"none","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":0.01},"paint":{"text-color":"hsl(0, 0%, 38%)","text-halo-color":"rgb(255, 255, 255)","text-halo-width":1,"text-halo-blur":1}},{"id":"waterway-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":13,"filter":["all",["match",["get","class"],["canal","river","stream"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"text-font":["Source Sans Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"visibility":"none"},"paint":{"text-color":"rgb(145, 145, 145)"}},{"id":"natural-line-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["match",["get","class"],["glacier","landform"],true,false],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","visibility":"none"},"paint":{"text-halo-width":0.5,"text-halo-color":"rgb(255, 255, 255)","text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(26, 13%, 52%)",5,"hsl(26, 18%, 42%)"],17,["step",["get","sizerank"],"hsl(26, 13%, 52%)",13,"hsl(26, 18%, 42%)"]]}},{"id":"natural-point-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],true,false],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]],"visibility":"none"},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"rgb(255, 255, 255)","text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(26, 13%, 52%)",5,"hsl(26, 18%, 42%)"],17,["step",["get","sizerank"],"hsl(26, 13%, 52%)",13,"hsl(26, 18%, 42%)"]]}},{"id":"water-line-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0],"text-font":["Source Sans Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"visibility":"none"},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"rgb(237, 239, 244)","rgb(145, 145, 145)"]}},{"id":"water-point-label","type":"symbol","metadata":{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},"source":"composite","source-layer":"natural_label","filter":["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["Source Sans Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10],"visibility":"none"},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"rgb(237, 239, 244)","rgb(145, 145, 145)"]}},{"id":"poi-label","type":"symbol","metadata":{"mapbox:featureComponent":"point-of-interest-labels","mapbox:group":"Point of interest labels, poi-labels"},"source":"composite","source-layer":"poi_label","minzoom":6,"filter":["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]],"visibility":"none"},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(65, 37%, 100%)","education","hsl(40, 28%, 100%)","medical","hsl(3, 41%, 100%)","rgb(255, 255, 255)"],"text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(22, 40%, 65%)","park_like","hsl(65, 28%, 46%)","education","hsl(40, 18%, 45%)","medical","hsl(3, 18%, 55%)","hsl(26, 13%, 52%)"],5,["match",["get","class"],"food_and_drink","hsl(22, 61%, 48%)","park_like","hsl(65, 62%, 29%)","education","hsl(40, 45%, 25%)","medical","hsl(3, 24%, 45%)","hsl(26, 18%, 42%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(22, 40%, 65%)","park_like","hsl(65, 28%, 46%)","education","hsl(40, 18%, 45%)","medical","hsl(3, 18%, 55%)","hsl(26, 13%, 52%)"],13,["match",["get","class"],"food_and_drink","hsl(22, 61%, 48%)","park_like","hsl(65, 62%, 29%)","education","hsl(40, 45%, 25%)","medical","hsl(3, 24%, 45%)","hsl(26, 18%, 42%)"]]]}},{"id":"transit-label","type":"symbol","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},"source":"composite","source-layer":"transit_stop_label","minzoom":12,"filter":["step",["zoom"],["all",["match",["get","mode"],"rail",true,"metro_rail",true,false],["!=",["get","stop_type"],"entrance"]],15,["all",["match",["get","mode"],"rail",true,"metro_rail",true,"light_rail",true,false],["!=",["get","stop_type"],"entrance"]],16,["all",["match",["get","mode"],"ferry",false,"bus",false,true],["!=",["get","stop_type"],"entrance"]],17,["all",["match",["get","mode"],"ferry",false,true],["!=",["get","stop_type"],"entrance"]],19,["match",["get","mode"],"ferry",false,true]],"layout":{"text-size":12,"icon-image":["get","network"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-justify":["match",["get","stop_type"],"entrance","left","center"],"visibility":"none","text-offset":["match",["get","stop_type"],"entrance",["literal",[1,0]],["literal",[0,0.8]]],"text-anchor":["match",["get","stop_type"],"entrance","left","top"],"text-field":["step",["zoom"],"",14,["match",["get","mode"],["rail","metro_rail"],["coalesce",["get","name_en"],["get","name"]],""],16,["match",["get","mode"],["bus","bicycle"],"",["coalesce",["get","name_en"],["get","name"]]],18,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.01,"text-max-width":["match",["get","stop_type"],"entrance",15,9]},"paint":{"text-halo-color":"rgb(255, 255, 255)","text-color":["match",["get","network"],"tokyo-metro","hsl(180, 50%, 30%)","mexico-city-metro","hsl(25, 100%, 63%)",["barcelona-metro","delhi-metro","hong-kong-mtr","milan-metro","osaka-subway"],"hsl(0, 90%, 47%)",["boston-t","washington-metro"],"hsl(230, 18%, 20%)",["chongqing-rail-transit","kiev-metro","singapore-mrt","taipei-metro"],"hsl(140, 90%, 25%)","hsla(230, 55%, 42%, 0.65)"],"text-halo-blur":0.5,"text-halo-width":0.5}},{"id":"airport-label","type":"symbol","metadata":{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},"source":"composite","source-layer":"airport_label","minzoom":8,"layout":{"text-line-height":1.1,"text-size":["step",["get","sizerank"],18,9,12],"icon-image":["step",["get","sizerank"],["concat",["get","maki"],"-15"],9,["concat",["get","maki"],"-11"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"visibility":"none","text-offset":[0,0.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":0.01,"text-max-width":9},"paint":{"text-color":"hsl(225, 4%, 40%)","text-halo-color":"hsl(225, 20%, 100%)","text-halo-width":1}},{"id":"country-label","type":"symbol","metadata":{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},"source":"composite","source-layer":"place_label","minzoom":3.2,"maxzoom":10,"filter":["==",["get","class"],"country"],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],28,4,22,5,21]],"icon-image":"","text-font":["Source Sans Pro SemiBold","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],7,"center"],"text-offset":["literal",[0,0]],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":6},"paint":{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"hsl(53, 17%, 29%)","text-halo-color":"rgb(255, 255, 255)","text-halo-width":1.25}},{"id":"experimentSites","type":"circle","source":"experiments","paint":{"circle-color":["case",["==",["get","type"],"past"],"rgb(0,80,92)",["==",["get","type"],"proposed"],"rgb(223,70,73)",["==",["get","type"],"ongoing"],"rgb(175,105,12)","gray"],"circle-opacity":0.8,"circle-radius":["interpolate",["exponential",1.3],["zoom"],1,["*",1,["case",["boolean",["feature-state","selected"],false],8.5,["boolean",["feature-state","hover"],false],7,5]],10,["*",8,["case",["boolean",["feature-state","selected"],false],8.5,["boolean",["feature-state","hover"],false],7,5]]],"circle-blur":["case",["boolean",["feature-state","hover"],false],0.2,["boolean",["feature-state","selected"],false],0,0]}}],"created":"2020-04-07T19:45:39.970Z","id":"ck8qbcwyi027b1irw26sop5ep","modified":"2020-04-07T19:45:39.970Z","owner":"alphalpha","visibility":"private","draft":false}')},17:function(e,t,a){e.exports=a(26)},22:function(e,t,a){},23:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),o=a(12),l=a.n(o),r=(a(22),a(10)),s=a(11),c=a(8),u=a(2),d=a(3),m=a(5),y=a(4),p=a(1),g=a(6),b=(a(23),a(15)),h=a(7),f=a.n(h),v="remove",k="expand",x="collapse",w="down-arrow",E="right-arrow",z=function(e){function t(e){return Object(u.a)(this,t),Object(m.a)(this,Object(y.a)(t).call(this,e))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"onClick",value:function(){this.props.onClick()}},{key:"getRemove",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("line",{x1:"15",x2:"85",y1:"15",y2:"85"}),n.a.createElement("line",{x1:"15",x2:"85",y1:"85",y2:"15"}))}},{key:"getExpand",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("line",{x1:"15",x2:"85",y1:"50",y2:"50"}),n.a.createElement("line",{x1:"50",x2:"50",y1:"15",y2:"85"}))}},{key:"getCollapse",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("line",{x1:"20",x2:"80",y1:"50",y2:"50"}))}},{key:"getDownArrow",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("polyline",{points:"50,0 50,100"}),n.a.createElement("polyline",{points:"10,55 50,100 90,55"}))}},{key:"getBracketWrap",value:function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("polyline",{points:"15,0 0,0 0,100 15,100"}),e,n.a.createElement("polyline",{points:"85,0 100,0 100,100 85,100"}))}},{key:"render",value:function(){var e,t="trigger-icon ",a="";switch(this.props.iconType){case v:e=this.getRemove(),t+="remove-icon";break;case k:e=this.getExpand(),t+="expand-icon";break;case x:e=this.getCollapse(),t+="collapse-icon";break;case w:e=this.getDownArrow(),t+="down-arrow";break;case E:e=this.getDownArrow(),t+="right-arrow",a+="rotate(270)";break;default:console.error("incorrect type")}return this.props.inBrackets&&(t+=" bracketed",e=this.getBracketWrap(e)),n.a.createElement("svg",{onClick:this.props.onClick,viewBox:"0 0 100 100",transform:a,className:t},e)}}]),t}(n.a.Component),I={LONGITUDE:{displayName:"Longitude",sheetId:"longitude"},LATITUDE:{displayName:"Latitude",sheetId:"latitude"},EID:{displayName:"Experiment ID",sheetId:"eid"},NAME:{displayName:"Name of Experiment",sheetId:"name"},TYPE:{displayName:"Past, Ongoing, Proposed",sheetId:"type"},LOCATION:{displayName:"Location",sheetId:"location"},DATES:{displayName:"Implementation Dates",sheetId:"dates"},RECIPIENTS:{displayName:"Number of Recipients",sheetId:"recipients"},IMPLEMENTER:{displayName:"Implementing Agency",sheetId:"implementer",isExpandible:!0},RESEARCHER:{displayName:"Research Agency",sheetId:"researcher",isExpandible:!0},FUNDER:{displayName:"Funding Agency",sheetId:"funder",isExpandible:!0},TARGETING:{displayName:"Type of Targeting",sheetId:"targeting",isExpandible:!0},UNIT:{displayName:"Unit of Recipient",sheetId:"unit"},AMOUNT:{displayName:"Amount of Transfer",sheetId:"amount",isExpandible:!0},FREQUENCY:{displayName:"Frequency of Payment",sheetId:"frequency"},EVALUATION:{displayName:"Method of Evaluation",sheetId:"evaluation"},NOTES:{displayName:"Additional Notes of Interest",sheetId:"notes",isExpandible:!0},WEBSITE:{displayName:"Link to Website",sheetId:"website",forceUniformValue:!0},LINKURL1:{displayName:"Link to Related Resource 1",sheetId:"linkurl1"},LINKTITLE1:{displayName:"Link title 1",sheetId:"linktitle1"},LINKURL2:{displayName:"Link to Related Resource 2",sheetId:"linkurl2"},LINKTITLE2:{displayName:"Link title 2",sheetId:"linktitle2"},LINKURL3:{displayName:"Link to Related Resource 3",sheetId:"linkurl3"},LINKTITLE3:{displayName:"Link title 3",sheetId:"linktitle3"},LINKURL4:{displayName:"Link to Related Resource 4",sheetId:"linkurl4"},LINKTITLE4:{displayName:"Link title 4",sheetId:"linktitle4"},LINKURL5:{displayName:"Link to Related Resource 5",sheetId:"linkurl5"},LINKTITLE5:{displayName:"Link title 5",sheetId:"linktitle5"},LINKURL6:{displayName:"Link to Related Resource 6",sheetId:"linkurl6"},LINKTITLE6:{displayName:"Link title 6",sheetId:"linktitle6"}},N=[{urlField:I.LINKURL1,titleField:I.LINKTITLE1},{urlField:I.LINKURL2,titleField:I.LINKTITLE2},{urlField:I.LINKURL3,titleField:I.LINKTITLE3},{urlField:I.LINKURL4,titleField:I.LINKTITLE4},{urlField:I.LINKURL5,titleField:I.LINKTITLE5},{urlField:I.LINKURL6,titleField:I.LINKTITLE6}],S={ORGANIZATIONAL:{displayName:"ORGANIZATIONAL FEATURES",sheetId:null,isFeatureHeader:!0},IMPLEMENTATION:{displayName:"IMPLEMENTATION FEATURES",sheetId:null,isFeatureHeader:!0}},_={RELATED_RESOURCES:{displayName:"Links to Related Resources",sheetId:null,isExpandible:!0,isComposite:!0}},L=[I.LOCATION,I.DATES,I.RECIPIENTS,S.ORGANIZATIONAL,I.IMPLEMENTER,I.RESEARCHER,I.FUNDER,S.IMPLEMENTATION,I.TARGETING,I.UNIT,I.AMOUNT,I.FREQUENCY,I.EVALUATION,I.NOTES,I.WEBSITE,_.RELATED_RESOURCES],C=function(e){function t(e){return Object(u.a)(this,t),Object(m.a)(this,Object(y.a)(t).call(this,e))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e="user-hint";return this.props.classes&&(e+=" ".concat(this.props.classes)),this.props.dismissed&&(e+=" dismissed"),n.a.createElement("div",{className:e},n.a.createElement("div",{className:"content"},this.props.content))}}]),t}(n.a.Component),T=I.LOCATION,R=I.NAME,j=I.EID,O=I.TYPE,A=I.WEBSITE,D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={minimized:!0,expandedProperties:{},scrollHintDismissed:!1},a.removeCard=a.removeCard.bind(Object(p.a)(a)),a.slideDock=a.slideDock.bind(Object(p.a)(a)),a.toggleDock=a.toggleDock.bind(Object(p.a)(a)),a.maximizeDock=a.maximizeDock.bind(Object(p.a)(a)),a.toggleProperty=a.toggleProperty.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cardData.length!==this.props.cardData.length&&this.setState({expandedProperties:{}})}},{key:"removeCard",value:function(e){this.props.removeCard(e)}},{key:"slideDock",value:function(e){e.deltaY&&e.deltaY>0&&this.setState({minimized:!1,scrollHintDismissed:!0})}},{key:"toggleDock",value:function(){var e=this;this.setState((function(t){return{minimized:!e.state.minimized}}))}},{key:"maximizeDock",value:function(){this.setState((function(e){return{minimized:!1}}))}},{key:"toggleProperty",value:function(e,t){var a=Object(b.a)({},this.state.expandedProperties);a[e]=!t;try{var i=document.getElementsByClassName("cell ".concat(e)),n=f.a.max(f.a.map(i,"scrollHeight"));f.a.each(i,(function(e){e.style.maxHeight=n+20+"px"}))}catch(o){}this.setState({expandedProperties:a})}},{key:"getNames",value:function(){var e=this;return this.props.cardData.map((function(t,a){var i=t[0],o=i[j.sheetId],l=i[R.sheetId],r=i[O.sheetId],s="card card-".concat(a," ").concat(r);return n.a.createElement("div",{className:s,key:"header"+o},n.a.createElement("div",{className:"cell"},l||"(none)",n.a.createElement(z,{iconType:v,onClick:e.removeCard.bind(e,o)})))}))}},{key:"getRows",value:function(){var e=this;return L.map((function(t){var a=t.displayName,i=t.sheetId,o=t.isFeatureHeader,l=e.getIsExpandible(t),r=!!e.state.expandedProperties[i],s=null;if(l){var c=r?x:k;s=n.a.createElement(z,{onClick:e.toggleProperty.bind(e,i,r),iconType:c})}var u="cell "+i;l&&(u+=" expandible"),r&&(u+=" expanded"),o&&(u+=" feature-header");var d=e.props.cardData.map((function(i,o){var l=i[0][j.sheetId];return n.a.createElement("div",{className:"card card-".concat(o),key:a+l},n.a.createElement("div",{className:u},n.a.createElement("div",{className:"property-name"},a,s),n.a.createElement("div",{className:"value"},e.getCellContent(i,t))))}));return n.a.createElement("div",{className:"row",key:a},d)}))}},{key:"getIsExpandible",value:function(e){var t=this;return e===T?f.a.some(this.props.cardData,(function(e){return e.length>2})):!e.isComposite&&!e.isFeatureHeader&&(!!f.a.some(this.props.cardData,(function(a){return t.getIsDifferentiated(a,e)}))||f.a.some(this.props.cardData,(function(t){return t[0][e.sheetId].length>120})))}},{key:"getIsDifferentiated",value:function(e,t){if(t.forceUniformValue||1===e.length)return!1;var a=t.sheetId,i=Object(r.a)(e),n=i[0],o=i.slice(1),l=n[a];return f.a.some(o,(function(e){return e[a]!==l}))}},{key:"getCellContent",value:function(e,t){if(t===T)return this.getLocationCellContent(e);if(t.isFeatureHeader)return null;if(t===_.RELATED_RESOURCES)return this.getLinksContent(e);var a=t.sheetId,i=e[0][a];return t===A&&i.includes(".")?n.a.createElement("a",{href:i,target:"_blank"},i):this.getIsDifferentiated(e,t)?n.a.createElement(n.a.Fragment,null,e.map((function(e){var t=e[j.sheetId],i=e[T.sheetId];return n.a.createElement("div",{key:"cell-content-".concat(a,"-").concat(t,"-").concat(i)},n.a.createElement("div",{title:i,className:"location-title"},i),e[a])}))):i}},{key:"getLocationCellContent",value:function(e){var t=e.map((function(e){var t=e[j.sheetId],a=e[T.sheetId];return n.a.createElement("div",{title:a,className:"location-cell-content",key:"cell-content-location-".concat(t,"-").concat(a)},a)}));return n.a.createElement(n.a.Fragment,null,t)}},{key:"getLinksContent",value:function(e){var t={},a=[];return e.forEach((function(e){N.forEach((function(i){var n=i.urlField,o=i.titleField,l=e[n.sheetId];if(l&&!t[l]){t[l]=!0;var r=e[o.sheetId]||l;a.push({urlValue:l,titleValue:r})}}))})),n.a.createElement("div",{key:"cell-content-links-".concat(e[0][j.sheetId])},a.map((function(e){var t=e.urlValue,a=e.titleValue;return n.a.createElement("a",{key:t,href:t,target:"_blank"},a)})))}},{key:"getScrollHint",value:function(){var e=n.a.createElement(n.a.Fragment,null,"scroll for more ",n.a.createElement(z,{iconType:w}));return n.a.createElement(C,{content:e,classes:"scroll-hint",dismissed:this.state.scrollHintDismissed||this.props.maxCardHintTriggered})}},{key:"getSelectionHint",value:function(){var e=n.a.createElement(n.a.Fragment,null,"click more map points to compare experiments",n.a.createElement("p",{className:"maximum"},"(max. 3)"),n.a.createElement(z,{iconType:E})),t="selection-hint";return this.state.scrollHintDismissed&&(t+=" scroll-initiated"),n.a.createElement(C,{content:e,classes:t,dismissed:this.props.selectionHintDismissed})}},{key:"getMaxPointHint",value:function(){var e=n.a.createElement(n.a.Fragment,null,"Only 3 experiments may be viewed at once. Remove a card to add another experiment."),t="max-point-hint";return this.props.maxCardHintTriggered&&(t+=" triggered"),n.a.createElement(C,{content:e,classes:t})}},{key:"render",value:function(){if(!this.props.cardData.length)return null;var e="card-dock card-count-".concat(this.props.cardData.length);return this.state.minimized||(e+=" maximized"),n.a.createElement("div",{onWheel:this.slideDock,onDoubleClick:this.toggleDock,onTouchStart:this.maximizeDock,className:"card-dock-container"},n.a.createElement("div",{className:e},n.a.createElement("div",{className:"card-table"},this.getScrollHint(),this.getSelectionHint(),this.getMaxPointHint(),n.a.createElement("div",{className:"row header"},this.getNames()),this.getRows())))}}]),t}(n.a.PureComponent),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={expanded:!0},a.toggleExpand=a.toggleExpand.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"toggleExpand",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"render",value:function(){var e="legend";this.state.expanded||(e+=" hidden");var t=this.state.expanded?x:k;return n.a.createElement("div",{className:e},n.a.createElement(z,{onClick:this.toggleExpand,inBrackets:!0,iconType:t}),n.a.createElement("div",{className:"content"},n.a.createElement("div",null,n.a.createElement("i",{className:"past"}),"Past Experiments"),n.a.createElement("div",null,n.a.createElement("i",{className:"ongoing"}),"Ongoing Experiments"),n.a.createElement("div",null,n.a.createElement("i",{className:"proposed"}),"Proposed Experiments")))}}]),t}(n.a.Component),P=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataLoaded,a=e.mapLoaded,i=e.mapConfigured,o="mask";return t&&a&&i&&(o+=" loaded"),n.a.createElement("div",{className:o},n.a.createElement("div",{className:"content"},n.a.createElement("p",null,"Loading..."),n.a.createElement("div",{className:"loading-dots"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))))}}]),t}(n.a.Component),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={left:0,top:0,adjusted:!1},a.ref=n.a.createRef(),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.expId;this.props.expId!==t&&t&&this.setState({adjusted:!1,left:e.x,top:e.y})}},{key:"componentDidUpdate",value:function(){!this.state.adjusted&&this.props.expId&&this.adjustPosition()}},{key:"adjustPosition",value:function(){var e=this.ref.current.getBoundingClientRect(),t=e.width,a=e.height,i=document.getElementById("root").getBoundingClientRect(),n=i.width,o=i.height,l=this.state,r=l.left,s=l.top;(s-=a+7)<0&&(s+=a+14)+a>o&&(s=1),(r+=7)+t>n&&(r-=t+14)<0&&(r=n-(t+2)),this.setState({left:r,top:s,adjusted:!0})}},{key:"getLocations",value:function(){var e=this.props,t=e.location,a=e.otherLocations,i="hovered-location",o=null;return a.length&&(i+=" emphasized",o=a.map((function(e){return n.a.createElement("p",{key:e},e)}))),n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:i},t),o)}},{key:"render",value:function(){var e=this.props,t=e.expId,a=e.name,i=e.type;if(!t)return null;var o={};o=this.state.adjusted?{left:this.state.left+"px",top:this.state.top+"px"}:{visibility:"hidden",left:"0px",top:"0px"};var l="tooltip "+i;return n.a.createElement("div",{className:l,style:o,ref:this.ref},n.a.createElement("div",{className:"name"},a||"(none)"),n.a.createElement("div",{className:"detail"},n.a.createElement("p",{className:"location-title"},"Location:"),this.getLocations()),n.a.createElement("p",{className:"click-hint"},"click point for more info"))}}]),t}(n.a.Component),M=a(13),W=a.n(M),H=a(16),B=I.LONGITUDE,K=I.LATITUDE,Y=I.NAME,G=I.LOCATION,V=I.TYPE,q=I.EID;W.a.accessToken="pk.eyJ1IjoiYmFzaWMtaW5jb21lIiwiYSI6ImNrOG93Y3UyYzFkZmozZXFzMDh6M2VzMmYifQ.03d6tNOzklWysbEpgpe6dg";var Z=function(e){function t(e){var a,i;return Object(u.a)(this,t),(i=Object(m.a)(this,Object(y.a)(t).call(this,e))).state=(a={zoom:3,hovered:{},selectedIds:[],isTouchScreen:!1,selectionHintDismissed:!1,maxCardHintTriggered:!1,mapLoaded:!1,dataLoaded:!1},Object(c.a)(a,"mapLoaded",!1),Object(c.a)(a,"mapConfigured",!1),a),i.map=null,i.getCardDock=i.getCardDock.bind(Object(p.a)(i)),i.getTooltip=i.getTooltip.bind(Object(p.a)(i)),i.removeCard=i.removeCard.bind(Object(p.a)(i)),i.getFeaturesByExperimentId=i.getFeaturesByExperimentId.bind(Object(p.a)(i)),i}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.map=new W.a.Map({container:this.mapContainer,style:H,center:[-98,40],zoom:this.state.zoom}),this.map.on("load",this.markMapLoaded.bind(this)),this.map.on("move",f.a.debounce((function(){e.featuresOnUnhover(),console.log("lat: ",e.map.getCenter().lat.toFixed(4)),console.log("lng: ",e.map.getCenter().lng.toFixed(4)),console.log("zoom: ",e.map.getZoom().toFixed(2))}),200,{leading:!0,trailing:!1})),this.map.on("click","experimentSites",this.featuresOnClick.bind(this)),this.map.on("mouseenter","experimentSites",this.featuresOnHover.bind(this)),this.map.on("mouseleave","experimentSites",this.featuresOnUnhover.bind(this)),this.map.on("touchstart","experimentSites",this.registerTouchScreen.bind(this)),Q.call(this)}},{key:"markMapLoaded",value:function(){this.setState({mapLoaded:!0})}},{key:"registerTouchScreen",value:function(){this.setState({isTouchScreen:!0})}},{key:"getFeaturesByExperimentId",value:function(e){return this.map.getSource("experiments")._data.features.filter((function(t){return t.id===e})).map((function(e){return e.properties}))}},{key:"featuresOnClick",value:function(e){var t=e.features[0].id,a=Object(s.a)(this.state.selectedIds),i=a.indexOf(t),n=i>-1;if(n)a.splice(i,1);else{if(a.length>=3)return void this.setState({maxCardHintTriggered:!0});a.push(t)}var o=a.length>1||this.state.selectionHintDismissed;this.setState({selectedIds:a,selectionHintDismissed:o}),this.map.setFeatureState({source:"experiments",id:t},{selected:!n})}},{key:"featuresOnHover",value:function(e){if(!this.state.isTouchScreen){this.map.getCanvas().style.cursor="pointer";var t=e.features[0],a=t.id,i=t.properties,n=e.point,o=n.x,l=n.y;this.setState({hovered:{name:i[Y.sheetId],location:i[G.sheetId],type:i[V.sheetId],expId:a,x:o,y:l}}),this.map.setFeatureState({source:"experiments",id:a},{hover:!0})}}},{key:"featuresOnUnhover",value:function(){!this.state.isTouchScreen&&this.state.hovered.expId&&(this.map.getCanvas().style.cursor="",this.map.setFeatureState({source:"experiments",id:this.state.hovered.expId},{hover:!1}),this.setState({hovered:{}}))}},{key:"removeCard",value:function(e){var t=Object(s.a)(this.state.selectedIds),a=t.indexOf(e);t.splice(a,1),this.setState({selectedIds:t}),this.map.setFeatureState({source:"experiments",id:e},{selected:!1})}},{key:"getTooltip",value:function(){var e=this.state.hovered,t=e.expId,a=e.name,i=e.location,o=e.type,l=e.x,r=e.y,s=[];t&&(s=this.getFeaturesByExperimentId(t).map((function(e){return e.location})).filter((function(e){return e!==i})));return n.a.createElement(U,{expId:t,name:a,location:i,otherLocations:s,type:o,x:l,y:r})}},{key:"getCardDock",value:function(){if(!this.map)return null;var e=this.state,t=e.selectedIds,a=e.isTouchScreen,i=e.selectionHintDismissed,o=e.maxCardHintTriggered,l=t.map(this.getFeaturesByExperimentId);return n.a.createElement(D,{removeCard:this.removeCard,cardData:l,isTouchScreen:a,selectionHintDismissed:i,maxCardHintTriggered:o})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataLoaded,i=t.mapLoaded,o=t.mapConfigured,l="app";return(!a||!i||!o)&&(l+=" loading"),n.a.createElement("div",null,n.a.createElement(P,{dataLoaded:a,mapLoaded:i,mapConfigured:o}),n.a.createElement("div",{className:l},this.getCardDock(),this.getTooltip(),n.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"map-container"}),n.a.createElement(F,null)))}}]),t}(n.a.Component),J=1,$={};function Q(){var e=this;String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var a=t>0?0|t:0;return this.substring(a,a+e.length)===e}});var t={type:"FeatureCollection",features:[]},a=new XMLHttpRequest;this.setState({dataLoaded:!0}),a.addEventListener("load",(function(){!function(a,i){var n,o=Object(r.a)(JSON.parse(i.responseText).feed.entry),l=(o[0],o.slice(1));console.log("TWO",new Date);var c=Object.keys(l[0]).filter((function(e){return e.startsWith("gsx$")&!e.endsWith("_db1zf")})).map((function(e){return e.substr(4)})),u=l.map((function(e,t){var a={};return c.forEach((function(t){if(a[t]=""===e["gsx$"+t].$t?null:e["gsx$"+t].$t,-1!==[K.sheetId,B.sheetId].indexOf(t)&&(a[t]=+a[t]),t===q.sheetId){var i=a[t],n=$[i]||J++;$[i]=n,a[t]=n}t===V.sheetId&&(a[t]=a[t].toLowerCase()),null===a[t]&&(a[t]="")})),{type:"Feature",id:a[q.sheetId],geometry:{type:"Point",coordinates:[a[K.sheetId],a[B.sheetId]]},properties:a}}));(n=t.features).push.apply(n,Object(s.a)(u)),e.map.getSource("experiments").setData(t),e.setState({mapConfigured:!0})}(0,a)})),a.open("GET","https://spreadsheets.google.com/feeds/list/1Bg3aEi3M7N4OGFJu2DYBIEqBtqJX6-mqCMbBbAcKNkg/1/public/full?alt=json"),a.send()}var X=Z;l.a.render(n.a.createElement(X,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.bc7d5173.chunk.js.map